<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./styles.css">
    <title>Meme Displayer</title>
</head>
<body>
    <script type="text/javascript">
        (async () => {
            const response = await fetch("https://meme-api.herokuapp.com/gimme/programminghumor")
            if(response.status !== 200){
                document.getElementById("header").innerText = "Could not fetch your dank memes :("
            }
            const memeParams = await response.json();
            if(memeParams.nsfw === true || memeParams.spoiler === true){
                location.reload()
            }
            document.getElementById("meme").src = memeParams.url
        })();
    </script>
    <h1 id="header"></h1>
    <img id="meme" alt="A dank meme for you"/>
</body>
</html>